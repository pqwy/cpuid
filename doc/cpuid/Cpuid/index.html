<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Cpuid (cpuid.Cpuid)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../index.html">cpuid</a> &#x00BB; Cpuid</nav><h1>Module <code>Cpuid</code></h1><p>Detect CPU features.</p><p><em>v0.1.2 — <a href="https://github.com/pqwy/cpuid">homepage</a></em></p><nav class="toc"><ul><li><a href="#overview">Overview</a><ul><li><a href="#lim">Limitations</a></li></ul></li><li><a href="#cpuid">Cpuid</a><ul><li><a href="#queries">Queries</a></li></ul></li></ul></nav></header><section><header><h2 id="overview"><a href="#overview" class="anchor"></a>Overview</h2><p>Cpuid provides runtime detection of CPU features through the x86 <b>CPUID</b> instruction. Detection discovers the CPU <a href="index.html#type-vendor"><span><code>vendor</code></span></a> and a set of feature <a href="index.html#type-flag"><span><code>flag</code></span></a>s.</p><p>The flag names reflect the Linux <a href="https://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/tree/arch/x86/include/asm/cpufeatures.h?id=c8d2bc9bc39ebea8437fd974fdbc21847bb897a3">convention</a>, except in uppercase. Only the features reported by the CPU are included (i.e. there are no synthetic flags).</p></header><section><header><h3 id="lim"><a href="#lim" class="anchor"></a>Limitations</h3><p>Cpuid currently relies on an x86-specific feature. The library runs on ARM processors, but calls return an <a href="index.html#type-error"><span><code>error</code></span></a>.</p><p>The only CPUID-leaves consulted for <a href="index.html#val-flags"><span>feature flags</span></a> are <code>0x1</code>, <code>0x7:0</code> and <code>0x80000001</code>. Hence, the reported features are a subset of what Linux would report.</p><p>Number of <a href="index.html#val-cores"><span>cores</span></a> is CPUID <code>0xb:1</code> <code>EBX</code>. This only works on Intel CPUs after around 2010, and fails under virtualization.</p></header></section></section><section><header><h2 id="cpuid"><a href="#cpuid" class="anchor"></a>Cpuid</h2></header><dl><dt class="spec type" id="type-error"><a href="#type-error" class="anchor"></a><code><span class="keyword">type</span> error</code> = <code>[ </code><table class="variant"><tr id="type-error.Unsupported" class="anchored"><td class="def constructor"><a href="#type-error.Unsupported" class="anchor"></a><code>| </code><code>`Unsupported</code></td></tr></table><code> ]</code></dt><dt class="spec type" id="type-result"><a href="#type-result" class="anchor"></a><code><span class="keyword">type</span> <span class="keyword">nonrec</span> 'a result</code><code> = (<span class="type-var">'a</span>, <a href="index.html#type-error">error</a>) Stdlib.result</code></dt><dt class="spec type" id="type-vendor"><a href="#type-vendor" class="anchor"></a><code><span class="keyword">type</span> vendor</code> = <code>[ </code><table class="variant"><tr id="type-vendor.AMD" class="anchored"><td class="def constructor"><a href="#type-vendor.AMD" class="anchor"></a><code>| </code><code>`AMD</code></td></tr><tr id="type-vendor.Centaur" class="anchored"><td class="def constructor"><a href="#type-vendor.Centaur" class="anchor"></a><code>| </code><code>`Centaur</code></td></tr><tr id="type-vendor.Cyrix" class="anchored"><td class="def constructor"><a href="#type-vendor.Cyrix" class="anchor"></a><code>| </code><code>`Cyrix</code></td></tr><tr id="type-vendor.Intel" class="anchored"><td class="def constructor"><a href="#type-vendor.Intel" class="anchor"></a><code>| </code><code>`Intel</code></td></tr><tr id="type-vendor.Transmeta" class="anchored"><td class="def constructor"><a href="#type-vendor.Transmeta" class="anchor"></a><code>| </code><code>`Transmeta</code></td></tr><tr id="type-vendor.NSC" class="anchored"><td class="def constructor"><a href="#type-vendor.NSC" class="anchor"></a><code>| </code><code>`NSC</code></td></tr><tr id="type-vendor.NexGen" class="anchored"><td class="def constructor"><a href="#type-vendor.NexGen" class="anchor"></a><code>| </code><code>`NexGen</code></td></tr><tr id="type-vendor.Rise" class="anchored"><td class="def constructor"><a href="#type-vendor.Rise" class="anchor"></a><code>| </code><code>`Rise</code></td></tr><tr id="type-vendor.SiS" class="anchored"><td class="def constructor"><a href="#type-vendor.SiS" class="anchor"></a><code>| </code><code>`SiS</code></td></tr><tr id="type-vendor.UMC" class="anchored"><td class="def constructor"><a href="#type-vendor.UMC" class="anchor"></a><code>| </code><code>`UMC</code></td></tr><tr id="type-vendor.VIA" class="anchored"><td class="def constructor"><a href="#type-vendor.VIA" class="anchor"></a><code>| </code><code>`VIA</code></td></tr><tr id="type-vendor.Vortex" class="anchored"><td class="def constructor"><a href="#type-vendor.Vortex" class="anchor"></a><code>| </code><code>`Vortex</code></td></tr><tr id="type-vendor.KVM" class="anchored"><td class="def constructor"><a href="#type-vendor.KVM" class="anchor"></a><code>| </code><code>`KVM</code></td></tr><tr id="type-vendor.Hyper_V" class="anchored"><td class="def constructor"><a href="#type-vendor.Hyper_V" class="anchor"></a><code>| </code><code>`Hyper_V</code></td></tr><tr id="type-vendor.Parallels" class="anchored"><td class="def constructor"><a href="#type-vendor.Parallels" class="anchor"></a><code>| </code><code>`Parallels</code></td></tr><tr id="type-vendor.VMware" class="anchored"><td class="def constructor"><a href="#type-vendor.VMware" class="anchor"></a><code>| </code><code>`VMware</code></td></tr><tr id="type-vendor.Xen" class="anchored"><td class="def constructor"><a href="#type-vendor.Xen" class="anchor"></a><code>| </code><code>`Xen</code></td></tr><tr id="type-vendor.UNKNOWN" class="anchored"><td class="def constructor"><a href="#type-vendor.UNKNOWN" class="anchor"></a><code>| </code><code>`UNKNOWN</code></td></tr></table><code> ]</code></dt><dd><p>The CPU manufacturer, the type of virtual environment, or <code>`UNKNOWN</code>.</p></dd></dl><dl><dt class="spec type" id="type-flag"><a href="#type-flag" class="anchor"></a><code><span class="keyword">type</span> flag</code> = <code>[ </code><table class="variant"><tr id="type-flag.FPU" class="anchored"><td class="def constructor"><a href="#type-flag.FPU" class="anchor"></a><code>| </code><code>`FPU</code></td><td class="doc"><p>Onboard FPU</p></td></tr><tr id="type-flag.VME" class="anchored"><td class="def constructor"><a href="#type-flag.VME" class="anchor"></a><code>| </code><code>`VME</code></td><td class="doc"><p>Virtual Mode Extensions</p></td></tr><tr id="type-flag.DE" class="anchored"><td class="def constructor"><a href="#type-flag.DE" class="anchor"></a><code>| </code><code>`DE</code></td><td class="doc"><p>Debugging Extensions</p></td></tr><tr id="type-flag.PSE" class="anchored"><td class="def constructor"><a href="#type-flag.PSE" class="anchor"></a><code>| </code><code>`PSE</code></td><td class="doc"><p>Page Size Extensions</p></td></tr><tr id="type-flag.TSC" class="anchored"><td class="def constructor"><a href="#type-flag.TSC" class="anchor"></a><code>| </code><code>`TSC</code></td><td class="doc"><p>Time Stamp Counter</p></td></tr><tr id="type-flag.MSR" class="anchored"><td class="def constructor"><a href="#type-flag.MSR" class="anchor"></a><code>| </code><code>`MSR</code></td><td class="doc"><p>Model-Specific Registers</p></td></tr><tr id="type-flag.PAE" class="anchored"><td class="def constructor"><a href="#type-flag.PAE" class="anchor"></a><code>| </code><code>`PAE</code></td><td class="doc"><p>Physical Address Extensions</p></td></tr><tr id="type-flag.MCE" class="anchored"><td class="def constructor"><a href="#type-flag.MCE" class="anchor"></a><code>| </code><code>`MCE</code></td><td class="doc"><p>Machine Check Exception</p></td></tr><tr id="type-flag.CX8" class="anchored"><td class="def constructor"><a href="#type-flag.CX8" class="anchor"></a><code>| </code><code>`CX8</code></td><td class="doc"><p>CMPXCHG8 instruction</p></td></tr><tr id="type-flag.APIC" class="anchored"><td class="def constructor"><a href="#type-flag.APIC" class="anchor"></a><code>| </code><code>`APIC</code></td><td class="doc"><p>Onboard APIC</p></td></tr><tr id="type-flag.SEP" class="anchored"><td class="def constructor"><a href="#type-flag.SEP" class="anchor"></a><code>| </code><code>`SEP</code></td><td class="doc"><p>SYSENTER/SYSEXIT</p></td></tr><tr id="type-flag.MTRR" class="anchored"><td class="def constructor"><a href="#type-flag.MTRR" class="anchor"></a><code>| </code><code>`MTRR</code></td><td class="doc"><p>Memory Type Range Registers</p></td></tr><tr id="type-flag.PGE" class="anchored"><td class="def constructor"><a href="#type-flag.PGE" class="anchor"></a><code>| </code><code>`PGE</code></td><td class="doc"><p>Page Global Enable</p></td></tr><tr id="type-flag.MCA" class="anchored"><td class="def constructor"><a href="#type-flag.MCA" class="anchor"></a><code>| </code><code>`MCA</code></td><td class="doc"><p>Machine Check Architecture</p></td></tr><tr id="type-flag.CMOV" class="anchored"><td class="def constructor"><a href="#type-flag.CMOV" class="anchor"></a><code>| </code><code>`CMOV</code></td><td class="doc"><p>CMOV instructions</p></td></tr><tr id="type-flag.PAT" class="anchored"><td class="def constructor"><a href="#type-flag.PAT" class="anchor"></a><code>| </code><code>`PAT</code></td><td class="doc"><p>Page Attribute Table</p></td></tr><tr id="type-flag.PSE36" class="anchored"><td class="def constructor"><a href="#type-flag.PSE36" class="anchor"></a><code>| </code><code>`PSE36</code></td><td class="doc"><p>36-bit PSEs</p></td></tr><tr id="type-flag.PN" class="anchored"><td class="def constructor"><a href="#type-flag.PN" class="anchor"></a><code>| </code><code>`PN</code></td><td class="doc"><p>Processor serial number</p></td></tr><tr id="type-flag.CLFLUSH" class="anchored"><td class="def constructor"><a href="#type-flag.CLFLUSH" class="anchor"></a><code>| </code><code>`CLFLUSH</code></td><td class="doc"><p>CLFLUSH instruction</p></td></tr><tr id="type-flag.DTS" class="anchored"><td class="def constructor"><a href="#type-flag.DTS" class="anchor"></a><code>| </code><code>`DTS</code></td><td class="doc"><p>Debug Store</p></td></tr><tr id="type-flag.ACPI" class="anchored"><td class="def constructor"><a href="#type-flag.ACPI" class="anchor"></a><code>| </code><code>`ACPI</code></td><td class="doc"><p>ACPI via MSR</p></td></tr><tr id="type-flag.MMX" class="anchored"><td class="def constructor"><a href="#type-flag.MMX" class="anchor"></a><code>| </code><code>`MMX</code></td><td class="doc"><p>Multimedia Extensions</p></td></tr><tr id="type-flag.FXSR" class="anchored"><td class="def constructor"><a href="#type-flag.FXSR" class="anchor"></a><code>| </code><code>`FXSR</code></td><td class="doc"><p>FXSAVE/FXRSTOR, CR4.OSFXSR</p></td></tr><tr id="type-flag.SSE" class="anchored"><td class="def constructor"><a href="#type-flag.SSE" class="anchor"></a><code>| </code><code>`SSE</code></td><td class="doc"><p>SSE</p></td></tr><tr id="type-flag.SSE2" class="anchored"><td class="def constructor"><a href="#type-flag.SSE2" class="anchor"></a><code>| </code><code>`SSE2</code></td><td class="doc"><p>SSE2</p></td></tr><tr id="type-flag.SS" class="anchored"><td class="def constructor"><a href="#type-flag.SS" class="anchor"></a><code>| </code><code>`SS</code></td><td class="doc"><p>CPU self snoop</p></td></tr><tr id="type-flag.HT" class="anchored"><td class="def constructor"><a href="#type-flag.HT" class="anchor"></a><code>| </code><code>`HT</code></td><td class="doc"><p>Hyper-Threading</p></td></tr><tr id="type-flag.TM" class="anchored"><td class="def constructor"><a href="#type-flag.TM" class="anchor"></a><code>| </code><code>`TM</code></td><td class="doc"><p>Automatic clock control</p></td></tr><tr id="type-flag.IA64" class="anchored"><td class="def constructor"><a href="#type-flag.IA64" class="anchor"></a><code>| </code><code>`IA64</code></td><td class="doc"><p>IA-64 processor</p></td></tr><tr id="type-flag.PBE" class="anchored"><td class="def constructor"><a href="#type-flag.PBE" class="anchor"></a><code>| </code><code>`PBE</code></td><td class="doc"><p>Pending Break Enable</p></td></tr><tr id="type-flag.SYSCALL" class="anchored"><td class="def constructor"><a href="#type-flag.SYSCALL" class="anchor"></a><code>| </code><code>`SYSCALL</code></td><td class="doc"><p>SYSCALL/SYSRET</p></td></tr><tr id="type-flag.MP" class="anchored"><td class="def constructor"><a href="#type-flag.MP" class="anchor"></a><code>| </code><code>`MP</code></td><td class="doc"><p>MP Capable.</p></td></tr><tr id="type-flag.NX" class="anchored"><td class="def constructor"><a href="#type-flag.NX" class="anchor"></a><code>| </code><code>`NX</code></td><td class="doc"><p>Execute Disable</p></td></tr><tr id="type-flag.MMXEXT" class="anchored"><td class="def constructor"><a href="#type-flag.MMXEXT" class="anchor"></a><code>| </code><code>`MMXEXT</code></td><td class="doc"><p>AMD MMX extensions</p></td></tr><tr id="type-flag.FXSR_OPT" class="anchored"><td class="def constructor"><a href="#type-flag.FXSR_OPT" class="anchor"></a><code>| </code><code>`FXSR_OPT</code></td><td class="doc"><p>FXSAVE/FXRSTOR optimizations</p></td></tr><tr id="type-flag.PDPE1GB" class="anchored"><td class="def constructor"><a href="#type-flag.PDPE1GB" class="anchor"></a><code>| </code><code>`PDPE1GB</code></td><td class="doc"><p>GB pages</p></td></tr><tr id="type-flag.RDTSCP" class="anchored"><td class="def constructor"><a href="#type-flag.RDTSCP" class="anchor"></a><code>| </code><code>`RDTSCP</code></td><td class="doc"><p>RDTSCP</p></td></tr><tr id="type-flag.LM" class="anchored"><td class="def constructor"><a href="#type-flag.LM" class="anchor"></a><code>| </code><code>`LM</code></td><td class="doc"><p>Long Mode (x86-64)</p></td></tr><tr id="type-flag.F_3DNOWEXT" class="anchored"><td class="def constructor"><a href="#type-flag.F_3DNOWEXT" class="anchor"></a><code>| </code><code>`F_3DNOWEXT</code></td><td class="doc"><p>AMD 3DNow! extensions</p></td></tr><tr id="type-flag.F_3DNOW" class="anchored"><td class="def constructor"><a href="#type-flag.F_3DNOW" class="anchor"></a><code>| </code><code>`F_3DNOW</code></td><td class="doc"><p>3DNow!</p></td></tr><tr id="type-flag.PNI" class="anchored"><td class="def constructor"><a href="#type-flag.PNI" class="anchor"></a><code>| </code><code>`PNI</code></td><td class="doc"><p>SSE-3</p></td></tr><tr id="type-flag.PCLMULQDQ" class="anchored"><td class="def constructor"><a href="#type-flag.PCLMULQDQ" class="anchor"></a><code>| </code><code>`PCLMULQDQ</code></td><td class="doc"><p>PCLMULQDQ instruction</p></td></tr><tr id="type-flag.DTES64" class="anchored"><td class="def constructor"><a href="#type-flag.DTES64" class="anchor"></a><code>| </code><code>`DTES64</code></td><td class="doc"><p>64-bit Debug Store</p></td></tr><tr id="type-flag.MONITOR" class="anchored"><td class="def constructor"><a href="#type-flag.MONITOR" class="anchor"></a><code>| </code><code>`MONITOR</code></td><td class="doc"><p>Monitor/Mwait support</p></td></tr><tr id="type-flag.DS_CPL" class="anchored"><td class="def constructor"><a href="#type-flag.DS_CPL" class="anchor"></a><code>| </code><code>`DS_CPL</code></td><td class="doc"><p>CPL Qual. Debug Store</p></td></tr><tr id="type-flag.VMX" class="anchored"><td class="def constructor"><a href="#type-flag.VMX" class="anchor"></a><code>| </code><code>`VMX</code></td><td class="doc"><p>Hardware virtualization</p></td></tr><tr id="type-flag.SMX" class="anchored"><td class="def constructor"><a href="#type-flag.SMX" class="anchor"></a><code>| </code><code>`SMX</code></td><td class="doc"><p>Safer mode</p></td></tr><tr id="type-flag.EST" class="anchored"><td class="def constructor"><a href="#type-flag.EST" class="anchor"></a><code>| </code><code>`EST</code></td><td class="doc"><p>Enhanced SpeedStep</p></td></tr><tr id="type-flag.TM2" class="anchored"><td class="def constructor"><a href="#type-flag.TM2" class="anchor"></a><code>| </code><code>`TM2</code></td><td class="doc"><p>Thermal Monitor 2</p></td></tr><tr id="type-flag.SSSE3" class="anchored"><td class="def constructor"><a href="#type-flag.SSSE3" class="anchor"></a><code>| </code><code>`SSSE3</code></td><td class="doc"><p>Supplemental SSE-3</p></td></tr><tr id="type-flag.CID" class="anchored"><td class="def constructor"><a href="#type-flag.CID" class="anchor"></a><code>| </code><code>`CID</code></td><td class="doc"><p>Context ID</p></td></tr><tr id="type-flag.SDBG" class="anchored"><td class="def constructor"><a href="#type-flag.SDBG" class="anchor"></a><code>| </code><code>`SDBG</code></td><td class="doc"><p>Silicon Debug</p></td></tr><tr id="type-flag.FMA" class="anchored"><td class="def constructor"><a href="#type-flag.FMA" class="anchor"></a><code>| </code><code>`FMA</code></td><td class="doc"><p>Fused multiply-add</p></td></tr><tr id="type-flag.CX16" class="anchored"><td class="def constructor"><a href="#type-flag.CX16" class="anchor"></a><code>| </code><code>`CX16</code></td><td class="doc"><p>CMPXCHG16B</p></td></tr><tr id="type-flag.XTPR" class="anchored"><td class="def constructor"><a href="#type-flag.XTPR" class="anchor"></a><code>| </code><code>`XTPR</code></td><td class="doc"><p>Send Task Priority Messages</p></td></tr><tr id="type-flag.PDCM" class="anchored"><td class="def constructor"><a href="#type-flag.PDCM" class="anchor"></a><code>| </code><code>`PDCM</code></td><td class="doc"><p>Performance Capabilities</p></td></tr><tr id="type-flag.PCID" class="anchored"><td class="def constructor"><a href="#type-flag.PCID" class="anchor"></a><code>| </code><code>`PCID</code></td><td class="doc"><p>Process Context Identifiers</p></td></tr><tr id="type-flag.DCA" class="anchored"><td class="def constructor"><a href="#type-flag.DCA" class="anchor"></a><code>| </code><code>`DCA</code></td><td class="doc"><p>Direct Cache Access</p></td></tr><tr id="type-flag.SSE4_1" class="anchored"><td class="def constructor"><a href="#type-flag.SSE4_1" class="anchor"></a><code>| </code><code>`SSE4_1</code></td><td class="doc"><p>SSE-4.1</p></td></tr><tr id="type-flag.SSE4_2" class="anchored"><td class="def constructor"><a href="#type-flag.SSE4_2" class="anchor"></a><code>| </code><code>`SSE4_2</code></td><td class="doc"><p>SSE-4.2</p></td></tr><tr id="type-flag.X2APIC" class="anchored"><td class="def constructor"><a href="#type-flag.X2APIC" class="anchor"></a><code>| </code><code>`X2APIC</code></td><td class="doc"><p>x2APIC</p></td></tr><tr id="type-flag.MOVBE" class="anchored"><td class="def constructor"><a href="#type-flag.MOVBE" class="anchor"></a><code>| </code><code>`MOVBE</code></td><td class="doc"><p>MOVBE instruction</p></td></tr><tr id="type-flag.POPCNT" class="anchored"><td class="def constructor"><a href="#type-flag.POPCNT" class="anchor"></a><code>| </code><code>`POPCNT</code></td><td class="doc"><p>POPCNT instruction</p></td></tr><tr id="type-flag.TSC_DEADLINE_TIMER" class="anchored"><td class="def constructor"><a href="#type-flag.TSC_DEADLINE_TIMER" class="anchor"></a><code>| </code><code>`TSC_DEADLINE_TIMER</code></td><td class="doc"><p>Tsc deadline timer</p></td></tr><tr id="type-flag.AES" class="anchored"><td class="def constructor"><a href="#type-flag.AES" class="anchor"></a><code>| </code><code>`AES</code></td><td class="doc"><p>AES instructions</p></td></tr><tr id="type-flag.XSAVE" class="anchored"><td class="def constructor"><a href="#type-flag.XSAVE" class="anchor"></a><code>| </code><code>`XSAVE</code></td><td class="doc"><p>XSAVE/XRSTOR/XSETBV/XGETBV</p></td></tr><tr id="type-flag.OSXSAVE" class="anchored"><td class="def constructor"><a href="#type-flag.OSXSAVE" class="anchor"></a><code>| </code><code>`OSXSAVE</code></td><td class="doc"><p>XSAVE enabled in the OS</p></td></tr><tr id="type-flag.AVX" class="anchored"><td class="def constructor"><a href="#type-flag.AVX" class="anchor"></a><code>| </code><code>`AVX</code></td><td class="doc"><p>Advanced Vector Extensions</p></td></tr><tr id="type-flag.F16C" class="anchored"><td class="def constructor"><a href="#type-flag.F16C" class="anchor"></a><code>| </code><code>`F16C</code></td><td class="doc"><p>16-bit fp conversions</p></td></tr><tr id="type-flag.RDRAND" class="anchored"><td class="def constructor"><a href="#type-flag.RDRAND" class="anchor"></a><code>| </code><code>`RDRAND</code></td><td class="doc"><p>The RDRAND instruction</p></td></tr><tr id="type-flag.HYPERVISOR" class="anchored"><td class="def constructor"><a href="#type-flag.HYPERVISOR" class="anchor"></a><code>| </code><code>`HYPERVISOR</code></td><td class="doc"><p>Running on a hypervisor</p></td></tr><tr id="type-flag.LAHF_LM" class="anchored"><td class="def constructor"><a href="#type-flag.LAHF_LM" class="anchor"></a><code>| </code><code>`LAHF_LM</code></td><td class="doc"><p>LAHF/SAHF in long mode</p></td></tr><tr id="type-flag.CMP_LEGACY" class="anchored"><td class="def constructor"><a href="#type-flag.CMP_LEGACY" class="anchor"></a><code>| </code><code>`CMP_LEGACY</code></td><td class="doc"><p>If yes HyperThreading not valid</p></td></tr><tr id="type-flag.SVM" class="anchored"><td class="def constructor"><a href="#type-flag.SVM" class="anchor"></a><code>| </code><code>`SVM</code></td><td class="doc"><p>Secure virtual machine</p></td></tr><tr id="type-flag.EXTAPIC" class="anchored"><td class="def constructor"><a href="#type-flag.EXTAPIC" class="anchor"></a><code>| </code><code>`EXTAPIC</code></td><td class="doc"><p>Extended APIC space</p></td></tr><tr id="type-flag.CR8_LEGACY" class="anchored"><td class="def constructor"><a href="#type-flag.CR8_LEGACY" class="anchor"></a><code>| </code><code>`CR8_LEGACY</code></td><td class="doc"><p>CR8 in 32-bit mode</p></td></tr><tr id="type-flag.ABM" class="anchored"><td class="def constructor"><a href="#type-flag.ABM" class="anchor"></a><code>| </code><code>`ABM</code></td><td class="doc"><p>Advanced bit manipulation</p></td></tr><tr id="type-flag.SSE4A" class="anchored"><td class="def constructor"><a href="#type-flag.SSE4A" class="anchor"></a><code>| </code><code>`SSE4A</code></td><td class="doc"><p>SSE-4A</p></td></tr><tr id="type-flag.MISALIGNSSE" class="anchored"><td class="def constructor"><a href="#type-flag.MISALIGNSSE" class="anchor"></a><code>| </code><code>`MISALIGNSSE</code></td><td class="doc"><p>Misaligned SSE mode</p></td></tr><tr id="type-flag.F_3DNOWPREFETCH" class="anchored"><td class="def constructor"><a href="#type-flag.F_3DNOWPREFETCH" class="anchor"></a><code>| </code><code>`F_3DNOWPREFETCH</code></td><td class="doc"><p>3DNow prefetch instructions</p></td></tr><tr id="type-flag.OSVW" class="anchored"><td class="def constructor"><a href="#type-flag.OSVW" class="anchor"></a><code>| </code><code>`OSVW</code></td><td class="doc"><p>OS Visible Workaround</p></td></tr><tr id="type-flag.IBS" class="anchored"><td class="def constructor"><a href="#type-flag.IBS" class="anchor"></a><code>| </code><code>`IBS</code></td><td class="doc"><p>Instruction Based Sampling</p></td></tr><tr id="type-flag.XOP" class="anchored"><td class="def constructor"><a href="#type-flag.XOP" class="anchor"></a><code>| </code><code>`XOP</code></td><td class="doc"><p>extended AVX instructions</p></td></tr><tr id="type-flag.SKINIT" class="anchored"><td class="def constructor"><a href="#type-flag.SKINIT" class="anchor"></a><code>| </code><code>`SKINIT</code></td><td class="doc"><p>SKINIT/STGI instructions</p></td></tr><tr id="type-flag.WDT" class="anchored"><td class="def constructor"><a href="#type-flag.WDT" class="anchor"></a><code>| </code><code>`WDT</code></td><td class="doc"><p>Watchdog timer</p></td></tr><tr id="type-flag.LWP" class="anchored"><td class="def constructor"><a href="#type-flag.LWP" class="anchor"></a><code>| </code><code>`LWP</code></td><td class="doc"><p>Light Weight Profiling</p></td></tr><tr id="type-flag.FMA4" class="anchored"><td class="def constructor"><a href="#type-flag.FMA4" class="anchor"></a><code>| </code><code>`FMA4</code></td><td class="doc"><p>4 operands MAC instructions</p></td></tr><tr id="type-flag.TCE" class="anchored"><td class="def constructor"><a href="#type-flag.TCE" class="anchor"></a><code>| </code><code>`TCE</code></td><td class="doc"><p>translation cache extension</p></td></tr><tr id="type-flag.NODEID_MSR" class="anchored"><td class="def constructor"><a href="#type-flag.NODEID_MSR" class="anchor"></a><code>| </code><code>`NODEID_MSR</code></td><td class="doc"><p>NodeId MSR</p></td></tr><tr id="type-flag.TBM" class="anchored"><td class="def constructor"><a href="#type-flag.TBM" class="anchor"></a><code>| </code><code>`TBM</code></td><td class="doc"><p>trailing bit manipulations</p></td></tr><tr id="type-flag.TOPOEXT" class="anchored"><td class="def constructor"><a href="#type-flag.TOPOEXT" class="anchor"></a><code>| </code><code>`TOPOEXT</code></td><td class="doc"><p>topology extensions CPUID leafs</p></td></tr><tr id="type-flag.PERFCTR_CORE" class="anchored"><td class="def constructor"><a href="#type-flag.PERFCTR_CORE" class="anchor"></a><code>| </code><code>`PERFCTR_CORE</code></td><td class="doc"><p>core performance counter extensions</p></td></tr><tr id="type-flag.PERFCTR_NB" class="anchored"><td class="def constructor"><a href="#type-flag.PERFCTR_NB" class="anchor"></a><code>| </code><code>`PERFCTR_NB</code></td><td class="doc"><p>NB performance counter extensions</p></td></tr><tr id="type-flag.BPEXT" class="anchored"><td class="def constructor"><a href="#type-flag.BPEXT" class="anchor"></a><code>| </code><code>`BPEXT</code></td><td class="doc"><p>data breakpoint extension</p></td></tr><tr id="type-flag.PTSC" class="anchored"><td class="def constructor"><a href="#type-flag.PTSC" class="anchor"></a><code>| </code><code>`PTSC</code></td><td class="doc"><p>performance time-stamp counter</p></td></tr><tr id="type-flag.PERFCTR_L2" class="anchored"><td class="def constructor"><a href="#type-flag.PERFCTR_L2" class="anchor"></a><code>| </code><code>`PERFCTR_L2</code></td><td class="doc"><p>L2 performance counter extensions</p></td></tr><tr id="type-flag.MWAITX" class="anchored"><td class="def constructor"><a href="#type-flag.MWAITX" class="anchor"></a><code>| </code><code>`MWAITX</code></td><td class="doc"><p>MWAIT extension (MONITORX/MWAITX)</p></td></tr><tr id="type-flag.FSGSBASE" class="anchored"><td class="def constructor"><a href="#type-flag.FSGSBASE" class="anchor"></a><code>| </code><code>`FSGSBASE</code></td><td class="doc"><p>{RD/WR}{FS/GS}BASE instructions</p></td></tr><tr id="type-flag.TSC_ADJUST" class="anchored"><td class="def constructor"><a href="#type-flag.TSC_ADJUST" class="anchor"></a><code>| </code><code>`TSC_ADJUST</code></td><td class="doc"><p>TSC adjustment MSR 0x3b</p></td></tr><tr id="type-flag.BMI1" class="anchored"><td class="def constructor"><a href="#type-flag.BMI1" class="anchor"></a><code>| </code><code>`BMI1</code></td><td class="doc"><p>1st group bit manipulation extensions</p></td></tr><tr id="type-flag.HLE" class="anchored"><td class="def constructor"><a href="#type-flag.HLE" class="anchor"></a><code>| </code><code>`HLE</code></td><td class="doc"><p>Hardware Lock Elision</p></td></tr><tr id="type-flag.AVX2" class="anchored"><td class="def constructor"><a href="#type-flag.AVX2" class="anchor"></a><code>| </code><code>`AVX2</code></td><td class="doc"><p>AVX2 instructions</p></td></tr><tr id="type-flag.SMEP" class="anchored"><td class="def constructor"><a href="#type-flag.SMEP" class="anchor"></a><code>| </code><code>`SMEP</code></td><td class="doc"><p>Supervisor Mode Execution Protection</p></td></tr><tr id="type-flag.BMI2" class="anchored"><td class="def constructor"><a href="#type-flag.BMI2" class="anchor"></a><code>| </code><code>`BMI2</code></td><td class="doc"><p>2nd group bit manipulation extensions</p></td></tr><tr id="type-flag.ERMS" class="anchored"><td class="def constructor"><a href="#type-flag.ERMS" class="anchor"></a><code>| </code><code>`ERMS</code></td><td class="doc"><p>Enhanced REP MOVSB/STOSB</p></td></tr><tr id="type-flag.INVPCID" class="anchored"><td class="def constructor"><a href="#type-flag.INVPCID" class="anchor"></a><code>| </code><code>`INVPCID</code></td><td class="doc"><p>Invalidate Processor Context ID</p></td></tr><tr id="type-flag.RTM" class="anchored"><td class="def constructor"><a href="#type-flag.RTM" class="anchor"></a><code>| </code><code>`RTM</code></td><td class="doc"><p>Restricted Transactional Memory</p></td></tr><tr id="type-flag.CQM" class="anchored"><td class="def constructor"><a href="#type-flag.CQM" class="anchor"></a><code>| </code><code>`CQM</code></td><td class="doc"><p>Cache QoS Monitoring</p></td></tr><tr id="type-flag.MPX" class="anchored"><td class="def constructor"><a href="#type-flag.MPX" class="anchor"></a><code>| </code><code>`MPX</code></td><td class="doc"><p>Memory Protection Extension</p></td></tr><tr id="type-flag.AVX512F" class="anchored"><td class="def constructor"><a href="#type-flag.AVX512F" class="anchor"></a><code>| </code><code>`AVX512F</code></td><td class="doc"><p>AVX-512 Foundation</p></td></tr><tr id="type-flag.AVX512DQ" class="anchored"><td class="def constructor"><a href="#type-flag.AVX512DQ" class="anchor"></a><code>| </code><code>`AVX512DQ</code></td><td class="doc"><p>AVX-512 DQ (Double/Quad granular) Instructions</p></td></tr><tr id="type-flag.RDSEED" class="anchored"><td class="def constructor"><a href="#type-flag.RDSEED" class="anchor"></a><code>| </code><code>`RDSEED</code></td><td class="doc"><p>The RDSEED instruction</p></td></tr><tr id="type-flag.ADX" class="anchored"><td class="def constructor"><a href="#type-flag.ADX" class="anchor"></a><code>| </code><code>`ADX</code></td><td class="doc"><p>The ADCX and ADOX instructions</p></td></tr><tr id="type-flag.SMAP" class="anchored"><td class="def constructor"><a href="#type-flag.SMAP" class="anchor"></a><code>| </code><code>`SMAP</code></td><td class="doc"><p>Supervisor Mode Access Prevention</p></td></tr><tr id="type-flag.CLFLUSHOPT" class="anchored"><td class="def constructor"><a href="#type-flag.CLFLUSHOPT" class="anchor"></a><code>| </code><code>`CLFLUSHOPT</code></td><td class="doc"><p>CLFLUSHOPT instruction</p></td></tr><tr id="type-flag.CLWB" class="anchored"><td class="def constructor"><a href="#type-flag.CLWB" class="anchor"></a><code>| </code><code>`CLWB</code></td><td class="doc"><p>CLWB instruction</p></td></tr><tr id="type-flag.AVX512PF" class="anchored"><td class="def constructor"><a href="#type-flag.AVX512PF" class="anchor"></a><code>| </code><code>`AVX512PF</code></td><td class="doc"><p>AVX-512 Prefetch</p></td></tr><tr id="type-flag.AVX512ER" class="anchored"><td class="def constructor"><a href="#type-flag.AVX512ER" class="anchor"></a><code>| </code><code>`AVX512ER</code></td><td class="doc"><p>AVX-512 Exponential and Reciprocal</p></td></tr><tr id="type-flag.AVX512CD" class="anchored"><td class="def constructor"><a href="#type-flag.AVX512CD" class="anchor"></a><code>| </code><code>`AVX512CD</code></td><td class="doc"><p>AVX-512 Conflict Detection</p></td></tr><tr id="type-flag.SHA_NI" class="anchored"><td class="def constructor"><a href="#type-flag.SHA_NI" class="anchor"></a><code>| </code><code>`SHA_NI</code></td><td class="doc"><p>SHA1/SHA256 Instruction Extensions</p></td></tr><tr id="type-flag.AVX512BW" class="anchored"><td class="def constructor"><a href="#type-flag.AVX512BW" class="anchor"></a><code>| </code><code>`AVX512BW</code></td><td class="doc"><p>AVX-512 BW (Byte/Word granular) Instructions</p></td></tr><tr id="type-flag.AVX512VL" class="anchored"><td class="def constructor"><a href="#type-flag.AVX512VL" class="anchor"></a><code>| </code><code>`AVX512VL</code></td><td class="doc"><p>AVX-512 VL (128/256 Vector Length) Extensions</p></td></tr><tr id="type-flag.PKU" class="anchored"><td class="def constructor"><a href="#type-flag.PKU" class="anchor"></a><code>| </code><code>`PKU</code></td><td class="doc"><p>Protection Keys for Userspace</p></td></tr><tr id="type-flag.OSPKE" class="anchored"><td class="def constructor"><a href="#type-flag.OSPKE" class="anchor"></a><code>| </code><code>`OSPKE</code></td><td class="doc"><p>OS Protection Keys Enable</p></td></tr></table><code> ]</code></dt><dd><p>CPU flags signify presence of individual features.</p><p>Consult the interface file for the meaning of individual flags.</p></dd></dl><dl><dt class="spec value" id="val-pp_error"><a href="#val-pp_error" class="anchor"></a><code><span class="keyword">val</span> pp_error : Stdlib.Format.formatter <span>&#45;&gt;</span> <a href="index.html#type-error">error</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>pp_error ppf e</code> formats the <a href="index.html#type-error"><span><code>error</code></span></a> <code>e</code> to the formatter <code>ppf</code>.</p></dd></dl><dl><dt class="spec value" id="val-pp_vendor"><a href="#val-pp_vendor" class="anchor"></a><code><span class="keyword">val</span> pp_vendor : Stdlib.Format.formatter <span>&#45;&gt;</span> <a href="index.html#type-vendor">vendor</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>pp_vendor ppf v</code> formats the <a href="index.html#type-vendor"><span><code>vendor</code></span></a> <code>v</code> to the formatter <code>ppf</code>.</p></dd></dl><dl><dt class="spec value" id="val-pp_flag"><a href="#val-pp_flag" class="anchor"></a><code><span class="keyword">val</span> pp_flag : Stdlib.Format.formatter <span>&#45;&gt;</span> <a href="index.html#type-flag">flag</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>pp_flag ppf f</code> formats the <a href="index.html#type-flag"><span><code>flag</code></span></a> <code>f</code> to the formatter <code>ppf</code>.</p></dd></dl><section><header><h3 id="queries"><a href="#queries" class="anchor"></a>Queries</h3></header><dl><dt class="spec value" id="val-vendor"><a href="#val-vendor" class="anchor"></a><code><span class="keyword">val</span> vendor : unit <span>&#45;&gt;</span> <a href="index.html#type-vendor">vendor</a> <a href="index.html#type-result">result</a></code></dt><dd><p><code>vendor ()</code> is the CPU <a href="index.html#type-vendor"><code>vendor</code></a>, or an <code>error</code>.</p></dd></dl><dl><dt class="spec value" id="val-model"><a href="#val-model" class="anchor"></a><code><span class="keyword">val</span> model : unit <span>&#45;&gt;</span> (int * int * int) <a href="index.html#type-result">result</a></code></dt><dd><p><code>model ()</code> is the CPU's <em>family</em>, <em>model</em> and <em>stepping</em>, or an <code>error</code>.</p></dd></dl><dl><dt class="spec value" id="val-flags"><a href="#val-flags" class="anchor"></a><code><span class="keyword">val</span> flags : unit <span>&#45;&gt;</span> <a href="index.html#type-flag">flag</a> list <a href="index.html#type-result">result</a></code></dt><dd><p><code>flags ()</code> is the list of CPU <a href="index.html#type-flag"><code>flag</code></a>s, or an <code>error</code>.</p></dd></dl><dl><dt class="spec value" id="val-supports"><a href="#val-supports" class="anchor"></a><code><span class="keyword">val</span> supports : <a href="index.html#type-flag">flag</a> list <span>&#45;&gt;</span> bool <a href="index.html#type-result">result</a></code></dt><dd><p><code>supports fs</code> is <code>true</code> iff all <code>fs</code> are in <code>flags ()</code>.</p></dd></dl><dl><dt class="spec value" id="val-cores"><a href="#val-cores" class="anchor"></a><code><span class="keyword">val</span> cores : unit <span>&#45;&gt;</span> int <a href="index.html#type-result">result</a></code></dt><dd><p><code>cores ()</code> is the number of available logical cores.</p><p><b>Note</b> Do not take <code>cores ()</code> too seriously. See <a href="index.html#lim"><span>limitations</span></a>.</p></dd></dl></section></section></div></body></html>